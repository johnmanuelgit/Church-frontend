
<div class="container mx-auto p-5 max-w-7xl">
  
  <!-- Header -->
  <div class="text-center mb-5">
    <h2 class="text-3xl font-bold text-gray-800">Member Details</h2>
    <p class="text-gray-600">Search, filter, and export member details</p>
  </div>

  <!-- Filters -->
  <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-5">
    
    <!-- Search by Name / Mobile -->
    <div>
      <label class="block text-sm font-medium mb-1">Search by Name / Mobile</label>
      <input type="text" [(ngModel)]="searchText" (input)="applyFilters()" class="w-full border rounded p-2" placeholder="Search..." />
    </div>

    <!-- Family ID Filter -->
    <div>
      <label class="block text-sm font-medium mb-1">Family ID</label>
      <input type="text" [(ngModel)]="searchFamilyId" (input)="applyFilters()" class="w-full border rounded p-2" placeholder="Family ID..." />
    </div>

    <!-- Family Head Filter -->
    <div>
      <label class="block text-sm font-medium mb-1">Family Head</label>
      <select [(ngModel)]="selectedHeadId" (change)="applyFilters()" class="w-full border rounded p-2">
        <option value="">All</option>
        <option *ngFor="let head of familyHeads" [value]="head.familyId">{{ head.name }}</option>
      </select>
    </div>
  </div>

  <!-- Export Button -->
  <div class="mb-4">
    <button (click)="exportToExcel()" class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded">
      Export to Excel
    </button>
  </div>

  <!-- Members Table -->
  <div class="overflow-auto">
    <table class="min-w-full table-auto border">
      <thead>
        <tr class="bg-gray-200">
          <th class="px-4 py-2 border">Name</th>
          <th class="px-4 py-2 border">Mobile</th>
          <th class="px-4 py-2 border">Family ID</th>
          <th class="px-4 py-2 border">Family Head</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let member of filteredMembers">
          <td class="px-4 py-2 border">{{ member.name }}</td>
          <td class="px-4 py-2 border">{{ member.mobileNumber }}</td>
          <td class="px-4 py-2 border">{{ member.familyId }}</td>
          <td class="px-4 py-2 border">{{ getFamilyHeadName(member.familyId) }}</td>
        </tr>
      </tbody>
    </table>

    <div *ngIf="filteredMembers.length === 0" class="text-center text-gray-500 mt-5">
      No members found.
    </div>
  </div>
</div>
